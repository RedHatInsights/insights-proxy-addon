apiVersion: addon.open-cluster-management.io/v1alpha1
kind: ClusterManagementAddOn
metadata:
  name: disconnected-insights
  annotations:
    addon.open-cluster-management.io/lifecycle: "addon-manager"
spec:
  addOnMeta:
    description: Configure the Insights Operator on a disconnected cluster to use the Insights Proxy
    displayName: Disconnected Insights
  supportedConfigs:
    - group: addon.open-cluster-management.io
      resource: addontemplates
      defaultConfig:
        name: disconnected-insights
    - group: addon.open-cluster-management.io
      resource: addondeploymentconfigs
      defaultConfig:
        name: disconnected-insights-config
        namespace: openshift-insights
  installStrategy:
    type: Placements
    placements:
    - name: openshift-disconnected-insights
      namespace: insights-proxy
      configs:
      - group: addon.open-cluster-management.io
        resource: addontemplates
        name: disconnected-insights
