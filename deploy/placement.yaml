apiVersion: cluster.open-cluster-management.io/v1beta1
kind: Placement
metadata:
  name: openshift-insights-proxy
  namespace: open-cluster-management
spec:
  predicates:
    - requiredClusterSelector:
        labelSelector:
          matchLabels:
            local-cluster: "true" # Deploy only in the hub cluster
---
# This would deploy the resources only if the cluster has the ClusterClaim set to true:
# ‚ùØ oc get ClusterClaims/should-use-insights-proxy
# NAME                        AGE
# should-use-insights-proxy   3h8m
apiVersion: cluster.open-cluster-management.io/v1beta1
kind: Placement
metadata:
  name: openshift-disconnected-insights
  namespace: open-cluster-management
spec:
  predicates:
    - requiredClusterSelector:
        labelSelector:
          matchLabels:
            should-use-insights-proxy: "true"
